# InsightMaster ロードマップ v2.0

## 現状スコア: 80/100
## 目標: 95/100 + マネタイズ勢の実用ニーズを満たす

---

## Phase 1: データ基盤強化（優先度: 最高）

### 1-1. フォロワー増減の推移グラフ
- 日次でフォロワー数をスプレッドシートに記録
- 7日/30日/90日の折れ線グラフをクライアント側で描画
- 成長率（前週比 %）を自動計算
- 設計書: docs/FEATURE_follower_graph.md

### 1-2. 投稿データの蓄積強化
- 現在は直近の投稿のみ → 過去90日分を蓄積
- 日次トリガーで自動取得・追記
- 重複排除ロジック

---

## Phase 2: 分析の深化（優先度: 高）

### 2-1. バズ分析の強化
- ER上位10投稿の共通パターン自動抽出
- 投稿の長さ/時間帯/曜日/メディア有無との相関
- AI要約: 「あなたのバズ条件は○○です」
- 設計書: docs/FEATURE_buzz_analysis.md

### 2-2. 週次レポート自動生成
- 毎週月曜にスプレッドシートへサマリーシート追記
- 内容: フォロワー増減、ER平均、トップ投稿3件、AI改善提案
- HTML/画像形式でエクスポート可能（メディアキット用途）
- 設計書: docs/FEATURE_weekly_report.md

---

## Phase 3: 出力・連携（優先度: 中）

### 3-1. CSV/PDFエクスポート
- 投稿一覧CSV（日付, テキスト, いいね, 返信, リポスト, ER）
- 週次レポートのPDF/画像出力
- ブラウザのBlobダウンロード + GAS側のPDF生成
- 設計書: docs/FEATURE_export.md

### 3-2. 投稿予約との統合
- AutoPostTool のスプレッドシートとの相互参照
- InsightMasterから直接投稿予約（APIコール）
- 分析→生成→予約の一気通貫フロー
- 設計書: docs/FEATURE_post_schedule.md

---

## Phase 4: UI/UX 仕上げ（優先度: 中）

### 4-1. アクセシビリティ（ARIA）完全対応
### 4-2. オンボーディングツアー
### 4-3. エラーリカバリUI
### 4-4. PWA化（オフラインキャッシュ）

---

## Phase 5: セキュリティ仕上げ（優先度: 低〜中）

### 5-1. トークン暗号化保存
### 5-2. レート制限
### 5-3. 監査ログ

---

## スコア目標

| カテゴリ | 現在 | Phase1後 | Phase2後 | Phase3後 | 最終 |
|---|---|---|---|---|---|
| パフォーマンス | 7.0 | 7.5 | 8.0 | 8.5 | 9.5 |
| UI/デザイン | 9.0 | 9.0 | 9.5 | 9.5 | 10 |
| UX/フロー | 9.0 | 9.0 | 9.5 | 9.5 | 10 |
| モバイル | 7.0 | 7.0 | 7.5 | 8.0 | 9.5 |
| サーバー品質 | 8.0 | 8.5 | 9.0 | 9.0 | 9.5 |
| クライアント品質 | 8.0 | 8.0 | 8.5 | 9.0 | 9.5 |
| セキュリティ | 7.5 | 7.5 | 7.5 | 8.0 | 9.5 |
| 機能完成度 | 8.5 | 9.0 | 9.5 | 10 | 10 |
| エラーハンドリング | 7.5 | 8.0 | 8.5 | 9.0 | 9.5 |
| 保守性 | 7.5 | 8.0 | 8.5 | 9.0 | 9.5 |
| **合計** | **80** | **83** | **87** | **91** | **97** |

---

## 競合との差別化ポイント
- 日本語完全対応（唯一）
- スプレッドシートベース（無料・データ所有権がユーザーに）
- AI分析（Gemini統合）
- ブランド案件用レポート出力

---

## Phase 5: プロダクション品質化（優先度: 高）

### 背景
Phase 1-4 で機能実装完了。「動くプロトタイプ」→「使ってもらえるプロダクト」へ。
厳格評価: VC視点 27/60、シニアエンジニア視点 25/100。

### 5-1. オンボーディング改革（離脱防止）
- デモモード実装（App ID未設定でもサンプルデータで全画面体験可能）
- セットアップステップ 5→3 に削減
- プログレッシブ・オンボーディング（Gemini APIは後回し）
- 設計書: docs/PHASE5_PRODUCTION.md

### 5-2. エラーハンドリング体系化
- エラー分類体系（AUTH_EXPIRED, RATE_LIMITED, NETWORK_ERROR等）
- 自動リトライ機構（指数バックオフ、最大3回）
- エラーログ蓄積（localStorage + 設定画面で確認）

### 5-3. テスト基盤構築
- Tests.js 新規作成（サーバー側ユニットテスト）
- docs/TEST_CHECKLIST.md（手動テストチェックリスト）
- docs/DEPLOY_PROCEDURE.md（デプロイ手順書）

### 5-4. パフォーマンス最適化
- APIレスポンスキャッシュ（5-30分TTL）
- サーバー側ページネーション
- initialData にインサイト含めて初回API削減

### 5-5. アクセシビリティ（ARIA + キーボード）
### 5-6. リテンション設計（成長スコア、デイリーチェックイン）
### 5-7. アーキテクチャ改善（名前空間、テンプレート化、状態管理）
### 5-8. マネタイズ設計（フリーミアム、ライセンスキー）
